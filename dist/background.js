(()=>{let e="idle",t=[];function s(){t.forEach((t=>{t.postMessage({type:"STATUS_UPDATE",status:e})}))}chrome.runtime.onConnect.addListener((T=>{"meet-bot-port"===T.name&&(t.push(T),T.onMessage.addListener((t=>{"GET_STATUS"===t.type?T.postMessage({type:"STATUS_UPDATE",status:e}):"SET_STATUS"===t.type&&(e=t.status,s())})),T.onDisconnect.addListener((()=>{t=t.filter((e=>e!==T))})))})),chrome.runtime.onMessage.addListener(((t,T,n)=>("GET_STATUS"===t.type?n({status:e}):"SET_STATUS"===t.type&&(e=t.status,s(),n({success:!0})),!0)))})();